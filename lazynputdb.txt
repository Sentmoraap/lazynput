# This file uses only ASCII characters and have a hard limit of 120 characters per line.

interfaces
{
    # This section defines the interfaces a game controller can expose.
    # A game can provide default mappings for one or several interfaces depending on the game genre.
    # One can easily add support for more controller types by extending this section.

    # Use btn for absolute inputs that cannot be negative.
    # Use abs for absolute inputs that can be negative.
    # Use rel for relative inputs.

    # Absolute inputs can be digital or analog.
    # For example, a gamepad may or may not have analog triggers, and some controllers have pressure sensitive buttons.
    # A d-pad is a common example of two digital inputs that can be negative.

    # This is for inputs that doesn't belong to any interface, but are still useful to be mapped.
    # Inputs should be assigned in order.
    extra
    {
        btn:
        btn0  btn1  btn2  btn3
        btn4  btn5  btn6  btn7
        btn8  btn9  btn10 btn11
        btn12 btn13 btn14 btn15
        btn16 btn17 btn18 btn19
        btn20 btn21 btn22 btn23
        btn24 btn25 btn26 btn27
        btn28 btn29 btn30 btn31

        abs:
        abs0  abs1  abs2  abs3
        abs4  abs5  abs6  abs7
        abs8  abs9  abs10 abs11
        abs12 abs13 abs14 abs15

        rel:
        rel0  rel1  rel2  rel3
        rel4  rel5  rel6  rel7
        rel8  rel9  rel10 rel11
        rel12 rel13 rel14 rel15
    }

    # This is the interface that most games can reasonably expect to be fully implemented.
    # If a game needs fewer inputs, it should provide default mappings for the most commonly found inputs.
    # For example, map the movement on both the d-pad and the left stick if the d-pad is not needed for another actions.
    basic_gamepad
    {
        abs:
        dpx dpy
        lsx lsy
        rsx rsy

        btn:
        a b x y
        l1 l2 r1 r2 ls rs
        select start
    }

    # An interface for extra inputs that can be found on some controllers.
    extended_gamepad
    {
        btn:
        c z
        l3 l4 r3 r4
        home capture
    }

    # This interface can be used for devices that provides motion controls.
    motion_controls
    {
        abs:
        accelx        # Towards the right
        accely        # Towards the screen
        accelz        # Towards the sky
        magx
        magy
        magz

        rel:
        gyrox        # Rotates around the player-screen axis
        gyroy        # Rotates around the left-right axis
        gyroz        # Rotates around the ground-sky axis
    }

    # Possible future additions:
    # arcade_stick, dance_pad, steering_wheel, flight_stick, etc...
}

labels
{
    # This section provides labels that are commonly found on controllers.
    # An input can have a sRGB color when it's color is distinctive.
    # Dollar names can be used for shapes and logos. The game should display the correct picture or a localized name.
    # A layout can extend another one and override some of it's parents' labels.

    ps1
    {
        basic_gamepad:
        a       "$CROSS"    7EABE2
        b       "$CIRCLE"   E23838
        x       "$SQUARE"   D08ED2
        y       "$TRIANGLE" 49DA7C
        l1      "L1"
        r1      "R1"
        l2      "L2"
        r2      "R2"
        ls      "L3"
        rs      "R3"
        select  "Select"
        start   "Start"
    }

    ps3 : ps1
    {
        extended_gamepad:
        home    "$PS_LOGO"
    }

    ps4 : ps3
    {
        basic_gamepad:
        select  "$TOUCHPAD"
        start   "Options"

        extended_gamepad:
        capture "Share"
    }

    snes
    {
        basic_gamepad:
        a       "B"         FECE15
        b       "A"         EB1A1D
        x       "Y"         008D45
        y       "X"         0749B4
        l1      "L"
        r1      "R"
        select  "Select"
        start   "Start"
    }

    xbox_base
    {
        basic_gamepad:
        a        "A"            87D639
        b        "B"            BF3030
        x        "X"            4296F3
        y        "Y"            EEB136
    }

    xbox : xbox_base
    {
        basic_gamepad:
        select   "Back"
        start    "Start"

        extended_gamepad:
        c        nil            000000
        z        nil            FFFFFF
    }

    xbox_360 : xbox_base
    {
        basic_gamepad:
        l1      "LB"
        r1      "RB"
        l2      "LT"
        r2      "RT"
        ls      "LS"
        rs      "RS"
        select  "Back"
        start   "Start"

        extended_gamepad:
        home    "$XBOX_LOGO"
    }

    xbox_one : xbox_360
    {
        basic_gamepad:
        select   "$XBOX_VIEW"
        start    "$HAMBURGER_MENU"
    }
}

devices
{
    # This is the game input device database, sorted by vendor ID and product ID.
    # A device can extend and override another similar device.
    # Device-specific labels are also given here.

    # The mappings assumes the d-pads are exposed as d-pads and not as extra axes or buttons.
    # It also assumes that any axis exposed from the input library can be negative.
    # Mapping an device axis to an interface button binds the whole axis' range by default.
    # You can map device's half axes and inverted axes if needed.

    # If a device needs different mappings depending on the operating system, driver version or some other parameters,
    # it can provide overrides depending on the parameters.
    # They can also be nested if needed.
    # There are no examples in this list yet.

    # A lot of this data came from internet researches.  There may be some mistakes.

    # Base controllers inherited by a lot of controllers
    045e.028e
    {
        name = "Xbox 360 controller"
        interfaces = basic_gamepad extended_gamepad
        labels = xbox_360
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a3 rsy=a4
            a=b0 b=b1 x=b2 y=b3 l1=b4 r1=b5 l2=a2 r2=a5
            ls=b9 rs=b10 select=b6 start=b7 home=b8
    }

    # Vendor ID 044f : Thrustmaster
    044f.044f : 045e.028e
    {
        name = "Thrustmaster GP XID"
        labels =
        {
            home "TM"
        }
    }

    # 044f.0f07 : can it just inherit the original xbox controller ?

    044f.a0a3
    {
        name = "Thrustmaster Fusion Digital gamepad"
        interfaces = basic_gamepad extended_gamepad
        default:
            lsx=a0 lsy=a1
            a=b0 b=b1 c=b2 x=b3 y=b4 z=b5 start=b6 select=b7 l1=b8 r1=b9
    }

    044f.a003 : 044f.a0a3
    {
        name = "Thrustmaster Rage 3D Digital PC Game pad"
        labels =
        {
            a "A", b "B", c "C", x "X", y "Y", z "Z"
            select "Select", start "Start"
        }
    }

    044f.b300
    {
        name = "Thrustmaster FireStorm Dual Power"
        interfaces = basic_gamepad extended_gamepad

        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a3
            a=b0 b=b2 x=b1 y=b3 l1=b4 r1=b6 l2=b5 r2=b7 l3=b9 r3=b10
            ls=b11 rs=b12 home=b8
    }

    044f.b303 : 044f.b300
    {
        name = "Thrustmaster FireStorm Dual Analog 2"
        interfaces = basic_gamepad extended_gamepad
        default:
            l3=b8 r3=b9 ls=b10 rs=b11 home=nil
    }

    044f.b304 : 044f.b303
    {
        name = "Thrustmaster FireStorm Dual Power 3"
    }

    #044f.b307 "Vibrating Upad" May be this.
    #{
    #    name = "Thrustmaster 360 Modena Upad Force"
    #    interfaces = basic_gamepad
    #    default:
    #        dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a3
    #        a=b0 b=b2 x=b1 y=b3 l1=b4 l2=b5 r1=b6 r1= select=b8 start=b9
    #        ls=b10 rs=b11
    #}

    # 044d.b30b Wireless VibrationPad. T-Wireless ?

    044f.b315 : 044f.b303
    {
        # This product ID corresponds to several Thrustmaster Dual Analog
        # controllers.
        # Start and select may be an extra pair of triggers.
        name = "Thrustmaster FireStorm Dual Analog"
        interfaces = basic_gamepad
        labels =
        {
            # Most models don't have labels, but the Dual Analog 4 have ones
            l1 "L1", l2 "L2", r1 "R1", r2 "R2"
        }
        default:
            select=b8 start=b9 # l3=nil r3=nil
    }

    044f.b320
    {
        name = "Thrustmaster Dual Trigger 2-in-1"
        interfaces = basic_gamepad extended_gamepad
        labels = ps1 +
        {
            # L3 and R3 refers to the joystick clicks on Playstation controllers.
            # The triggers are not labeled.
            l3 nil, r3 nil, home "Mode"
        }
        # This mapping assumes the controller is in 6 axis modYe.
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a5
            a=b1 b=b2 x=b0 y=b3 l1=b4 r1=b5 l2=b6 r2=b7 l3=~a3 r3=~a4
            ls=b10 rs=b11 select=b8 start=b9
    }

    044f.b323 : 044f.b320
    {
        name = "Thrustmaster Dual Trigger 3-in-1 Rumble Force"
    }

    044f.b324 : 044f.b320
    {
        # 044f.b323 in PS3 mode
        default: home=b12
    }

    044f.b326 : 044f.044f {}

    044f.d003
    {
        name = "Thrustmaster Run'N' Drive 3 in 1 Rumble Force"
        interfaces = basic_gamepad extended_gamepad extra
        labels = ps1 +
        {
            # L3 and R3 are on the back of the controller and are labeled L2 and R2.
            # L2 and R2 are not labeled.
            l2 nil, r2 nil, l3 "L2", r3 "R2"
            home "$HOME"
        }

        # This mapping assumes the controller is in 6 axis mode.
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a5
            a=b1 b=b2 x=b0 y=b3 l1=b4 r1=b5 l2=~a3 r2=~a4 l3=b6 r3=b7
            ls=b10 rs=b11 select=b8 start=b9 abs0=a6
    }

    # 044f.d007 : T-Wireless

    044f.d008 : 044f.d003
    {
        name = "Thrustmaster Run'N' Drive Wireless 3 in 1 Rumble Force"
    }

    044f.d009 : 044f.d008
    {
        # 044f.d008 in PS3 mode
        default: home=b12
    }

    # Could not find data for T-Mini and T-Wireless models.

    # Vendor ID 045e : Microsoft
    045e.000e
    {
        name = "Microsoft SideWinder Freestyle Pro"
        interfaces = basic_gamepad extended_gamepad motion_controls extra
        labels =
        {
            a "A", b "B", c "C", x "X", y "Y", z "Z"
            select "$SHIFT", start "Start"
        }
        # This mapping assumes the controller is in analogue mod (green LED)
        default:
            dpx=h0x dpy=h0y accelx=a0 accely=a1
            a=b0 b=b1 c=b2 x=b3 y=b4 z=b5
            l1=b6 r1=b7 start=b8 select=b9
            abs0=a2 # A throttle wheel.
    }

    045e.0202
    {
        name = "Xbox controller"
        interfaces = basic_gamepad extended_gamepad
        labels = xbox
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a3 rsy=a4
            a=b0 b=b1 c=b2 x=b3 y=b4 z=b5 l1=a2 r1=a5
            ls=b8 rs=b9 select=b6 start=b7
    }

    045e.0285 : 045e.0202
    {
        name = "Xbox controller S"
    }

    045e.0289 : 045e.0285 {}

    #045e.028e : defined earlier

    045e.0291 : 045e.028e
    {
        name = "Xbox 360 wireless controller"
    }

    045e.02a1 : 045e.0291 {}

    045e.02d1 : 045e.028e
    {
        name = "Xbox One Controller"
        labels = xbox_one
    }

    045e.02dd : 045e.02d1 {}

    045e.02e0 : 045e.02d1
    {
        name = "Xbox One Wireless Controller"
        default: ls=b8 rs=b9 home=b10
    }

    045e.02e3 : 045e.02d1
    {
        name = "Xbox One Elite Controller"
    }

    045e.02ea : 045e.02e0
    {
        default: ls=b6 rs=b7 select=b9 start=b8 home=b10
    }

    045e.02fd
    {
        name = "Xbox One Wireless Controller"
        interfaces = basic_gamepad extended_gamepad
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a3
            a=b0 b=b1 x=b3 y=b4
            l1=b6 l2=a5 r1=b7 r2=a4
            ls=b13 rs=b14 select=b15 start=b11 home=b16
    }

    045e.0719 : 045e.0291 {}

    # Vendor ID 046d : Logitech
    046d.0242 : 045e.028e
    {
        name = "Logitech ChillStream"
    }

    046d.c209
    {
        name = "Logitech WingMan Gamepad"
        interfaces = basic_gamepad extended_gamepad
        labels =
        {
            a "A", b "B", c "C", x "X", y "Y", z "Z"
            start "Start", select "Select"
        }
        default:
            dpx=h0x dpy=h0y
            a=b0 b=b1 c=b2 x=b3 y=b4 z=b5 l1=b6 r1=b7 start=b8 select=b9
    }

    046d.c208 : 046d.c209
    {
        name = "Logitech WingMan Gamepad Extreme"
        interfaces = basic_gamepad extended_gamepad motion_controls
        labels =
        {
            a "A", b "B", c "C", x "X", y "Y", z "Z"
            start "Start"
        }

        # Expects the G-FORCE TILT sensor to be activated
        default:
            select=nil
            accelx=a0 accely=a1
    }

    046d.c20b : 046d.c209
    {
        name = "Logitech WingMan Action Pad"
        interfaces = basic_gamepad extended_gamepad extra
        labels =
        {
            start "S"
        }
        default:
            abs0=a2 # A slider. May be added to extended_gamepad if several
                    # other gamepads have it.
            select=nil
    }

    046d.c20a : 046d.c20b
    {
        name = "Logitech WingMan RumblePad"
        labels =
        {
            l1 "L1", r1 "R1", l2 "L2", r2 "R2"
            start "Start"
        }
        default: rsx=a3 rsy=a4 l2=b9 r2=b10
    }

    046d.c20c
    {
        name = "Logitech Wingman Precision USB Gamepad"
        interfaces = basic_gamepad
        labels =
        {
            a "A", b "B", x "X", y "Y"
        }
        default : dpx=h0x dpy=h0y a=b0 b=b1 x=b2 y=b3 l1=b4 r1=b5
    }

    046d.c211 : 046d.c20a
    {
        name = "Logitech WingMan Cordless Rumblepad"
    }

    046d.c216
    {
        # This ID is also the F310 controller in DirectInput mode,
        # with has Xbox 360 labels.
        # For now, this distinction is not supported.
        # This may be solved by adding config tags based on the reported name.
        name = "Logitech Dual Action Gamepad"
        interfaces = basic_gamepad
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a3
            a=b1 b=b2 x=b0 y=b3 l1=b4 r1=b5 l2=b6 r2=b7
            ls=b10 rs=b11 select=b8 start=b9

    }

    046d.c218 : 046d.c216
    {
        # This is also the Logitech F510 in DirectInput mode.
        name = "Logitech RumblePad 2"
    }

    046d.c219 : 046d.c216
    {
        # This is also the Logitech F710 in DirectInput mode.
        name = "Logitech Cordless RumblePad 2"
        interfaces = basic_gamepad
    }

    046d.c21a
    {
        name = "Logitech Precision Gamepad"
        interfaces = basic_gamepad
        default:
            dpx=h0x dpy=h0y select=b8 start=b9
            a=b1 b=b2 x=b0 y=b3 l1=b4 r1=b5 l2=b6 r2=b7
    }

    046d.c21d : 045e.028e
    {
        # 046d.c216 in XInput mode
        name = "Logitech F310 Gamepad"
        default: home=nil
    }

    046d.c21e : 046d.c21d
    {
        # 046d.c218 in XInput mode
        name = "Logitech F510 Gamepad"
    }

    046d.c21f : 046d.c21d
    {
        # 046d.c219 in XInput mode
        name = "Logitech F710 Gamepad"
    }

    # 046d.ca84 Cordless controller for Xbox
    # 046d.ca88 Thunderpad for Xbox
    # Same as 045e.0202 ?

    # 046d.f301 ?

    # Vendor ID 054c : Sony
    054c.0268
    {
        name = "Sony DualShock 3"
        interfaces = basic_gamepad extended_gamepad
        # Accelerometers is either not reported or reported in different device.
        # Extra work is needed to support all features.
        labels = ps3
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a3 rsy=a4
            a=b0 b=b1 x=b3 y=b2 l1=b4 r1=b5 l2=b6a2 r2=a5 #l2=b6 r2=b7
            select=b8 start=b9 home=b10
            ls=b11 rs=b12
    }

    054c.05c4
    {
        name = "Sony DualShock 4"
        interfaces = basic_gamepad extended_gamepad
        # Accelerometers and touch screen are either not reported or reported in different devices.
        # Extra work is needed to support all features.
        labels = ps4
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a5
            a=b1 b=b2 x=b0 y=b3 l1=b4 r1=b5 l2=a3 r2=a4 #l2=b6 r2=b7
            ls=b10 rs=b11 select=b8 start=b9 home=b12
        linux:
            rsx=a3 rsy=a4
            a=b0 b=b1 x=b3 y=b2 l1=b4 r1=b5 l2=a2 r2=a5
            ls=b11 rs=b12 select=b8 start=b9 home=b10
    }

    # Vendor ID 0583 : Rockfire - Padix
    0583.2060
    {
        name = "iBuffalo Classic USB Gamepad"
        interfaces = basic_gamepad
        labels = snes
        default: dpx=a0 dpy=a1 a=b1 b=b0 x=b3 y=b2 l1=b4 r1=b5 select=b6 start=b7
    }

    1d79.0301
    {
        name = "Wii classic controller adapter for PC USB"
        interfaces = basic_gamepad extended_gamepad
        labels = nintendo_modern # TODO: fix not getting an error there
        default:
            dpx=h0x dpy=h0y lsx=a0 lsy=a1 rsx=a2 rsy=a3
            a=b2 b=b1 x=b3 y=b0 l1=b6 r1=b7 l2=b4 r2=b5
            ls=b10 rs=b11
            select=b8 start=b9 home=b10

    }

}
